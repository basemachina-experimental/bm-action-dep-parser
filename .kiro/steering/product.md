# プロダクト概要

## 製品説明

`bm-action-dep-parser`は、BaseMachinaプロジェクトにおけるJavaScriptアクションとビューコンポーネント間の依存関係を静的解析するCLIツールです。TypeScriptコンパイラAPIを活用して、コードベース内のアクション呼び出しを検出し、依存関係グラフを構築します。

## 主要機能

- **アクション依存関係の解析**: JavaScriptアクションファイルが他のどのアクションに依存しているかを特定
- **ビュー依存関係の解析**: Reactビューコンポーネントが使用するアクションを特定
- **エントリーポイント分析**: ビューのエントリーポイント（デフォルト: `pages/**/*.{tsx,jsx,ts,js}`）から直接・間接的に依存するすべてのアクションを可視化
- **カスタムパターン対応**: `--entry-point-patterns`オプションでエントリーポイントを柔軟に指定可能
- **アクション呼び出し検出**: `executeAction`、`useExecuteAction`、`useExecuteActionLazy`の呼び出しを自動検出
- **変数トラッキング**: 変数に格納されたアクション識別子も追跡
- **JSON出力**: 機械可読な形式で依存関係を出力

## 対象ユースケース

### 1. 依存関係の可視化
大規模なBaseMachinaプロジェクトにおいて、どのビューやアクションがどのアクションに依存しているかを把握することで、変更影響範囲の分析が可能になります。

### 2. リファクタリング支援
アクションの削除や変更を行う際に、影響を受けるビューやアクションを事前に特定できます。

### 3. モジュール分割の最適化
依存関係を可視化することで、適切なモジュール境界の設計やコード分割の判断材料として活用できます。

### 4. CI/CDパイプライン統合
自動テストやデプロイプロセスにおいて、変更されたアクションが影響する範囲を自動判定できます。

## 主要な価値提案

- **自動化による効率化**: 手動での依存関係調査が不要になり、開発速度が向上
- **正確性の向上**: AST（抽象構文木）ベースの解析により、正確な依存関係を把握
- **構造化された出力**: JSON形式での出力により、他のツールとの統合が容易
- **柔軟な設定**: カスタムエントリーポイントパターンにより、様々なプロジェクト構造に対応
- **npmパッケージとして提供**: `npx`コマンドでインストール不要で即座に利用可能

## 対象ユーザー

- BaseMachinaプラットフォーム上でアプリケーション開発を行う開発者
- 大規模なBaseMachinaプロジェクトのアーキテクチャを管理するテックリード
- CI/CDパイプラインの最適化を担当するDevOpsエンジニア
